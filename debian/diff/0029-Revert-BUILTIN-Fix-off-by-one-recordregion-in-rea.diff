From 812eba40604551d42df5176bb1cf42674306fba4 Mon Sep 17 00:00:00 2001
From: Gerrit Pape <pape@smarden.org>
Date: Thu, 13 May 2010 22:58:35 +0000
Subject: [PATCH] Revert "[BUILTIN] Fix off-by-one recordregion in readcmd"

This reverts commit 72811e307d07c8e5902a7f73ea6491eabb93a4ce.

Conflicts:

	ChangeLog
---
 ChangeLog       |    4 ----
 src/miscbltin.c |    2 +-
 2 files changed, 1 insertions(+), 5 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 0802048..b4d6680 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -6,10 +6,6 @@
 
 	* Fix binary operator parsing.
 
-2009-11-26  Herbert Xu <herbert@gondor.apana.org.au>
-
-	* Fix off-by-one recordregion in readcmd.
-
 2009-09-28  Jim Meyering  <meyering@redhat.com>
 
 	don't read-uninitialized for \177 in a here-doc
diff --git a/src/miscbltin.c b/src/miscbltin.c
index 046f2f2..ec9872d 100644
--- a/src/miscbltin.c
+++ b/src/miscbltin.c
@@ -84,7 +84,7 @@ readcmd_handle_line(char *line, char **ap, size_t len)
 	backup = sstrdup(line);
 
 	arglist.lastp = &arglist.list;
-	recordregion(0, len - 1, 0);
+	recordregion(0, len, 0);
 	
 	ifsbreakup(s, &arglist);
 	*arglist.lastp = NULL;
-- 
1.5.6.5

